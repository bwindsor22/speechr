function getMock(endpoint) {
  console.log(endpoint);
  var mock = {}
  mock['percent_bow_hate'] = [{"13451452251849519":null,"aznidentity":0.2350971199,"billionshekelsupreme":null,"communism":0.053008596,"conservative":0.0341796875,"conspiracy":0.0479846449,"cringeanarchy":0.0508658009,"debatereligion":0.0670691906,"documentaries":0.0541818964,"fatacceptance":0.0805639476,"gentilesunited":0.4641638225,"h3h3productions":0.010989011,"hapas":0.2091152815,"imgoingtohellforthis":null,"lectures":0.0595041322,"mgtow":0.0528367259,"milliondollarextreme":0.0714034471,"news":0.0461593942,"politics":0.0288522511,"samandtolki":0.0520284918,"sjwhate":0.0941644562,"the_donald":0.0294117647,"todayilearned":0.0092491839,"uncensorednews":0.0807174888,"worldnews":0.0582072177,"date":"2018-02-25"},{"13451452251849519":null,"aznidentity":0.2210945995,"billionshekelsupreme":null,"communism":0.0524691358,"conservative":0.0274431058,"conspiracy":0.0421443021,"cringeanarchy":0.044375645,"debatereligion":0.0608237548,"documentaries":0.0351215747,"fatacceptance":0.0803212851,"gentilesunited":0.4722222222,"h3h3productions":0.0092378753,"hapas":0.2057098162,"imgoingtohellforthis":null,"lectures":0.0609375,"mgtow":0.0550082102,"milliondollarextreme":0.0593824228,"news":0.0383067314,"politics":0.0330752991,"samandtolki":0.0529213827,"sjwhate":0.094137931,"the_donald":0.0284090909,"todayilearned":0.0173160173,"uncensorednews":0.1276595745,"worldnews":0.0488810365,"date":"2018-02-26"},{"13451452251849519":null,"aznidentity":0.2040229885,"billionshekelsupreme":null,"communism":0.0601265823,"conservative":0.012195122,"conspiracy":null,"cringeanarchy":0.0341463415,"debatereligion":0.0673784978,"documentaries":0.0234375,"fatacceptance":0.0803212851,"gentilesunited":0.4444444444,"h3h3productions":0.0073260073,"hapas":0.2305084746,"imgoingtohellforthis":null,"lectures":0.0595238095,"mgtow":0.0423162584,"milliondollarextreme":0.0755208333,"news":0.0197044335,"politics":0.0176390773,"samandtolki":0.0538922156,"sjwhate":0.097733711,"the_donald":0.0833333333,"todayilearned":0.0220858896,"uncensorednews":0.055,"worldnews":0.017921147,"date":"2018-02-27"},{"13451452251849519":0.0616302187,"aznidentity":0.1837270341,"billionshekelsupreme":null,"communism":null,"conservative":0.016,"conspiracy":null,"cringeanarchy":null,"debatereligion":null,"documentaries":0.0202020202,"fatacceptance":null,"gentilesunited":null,"h3h3productions":null,"hapas":null,"imgoingtohellforthis":0.062437228,"lectures":null,"mgtow":null,"milliondollarextreme":0.125,"news":null,"politics":null,"samandtolki":null,"sjwhate":0.0846774194,"the_donald":0.01,"todayilearned":null,"uncensorednews":null,"worldnews":0.0460526316,"date":"2018-03-02"},{"13451452251849519":null,"aznidentity":0.1646825397,"billionshekelsupreme":null,"communism":null,"conservative":0.0336358783,"conspiracy":null,"cringeanarchy":null,"debatereligion":null,"documentaries":0.0286738351,"fatacceptance":null,"gentilesunited":null,"h3h3productions":null,"hapas":null,"imgoingtohellforthis":null,"lectures":null,"mgtow":null,"milliondollarextreme":0.0767432801,"news":null,"politics":null,"samandtolki":null,"sjwhate":0.1382488479,"the_donald":0.0222772277,"todayilearned":null,"uncensorednews":null,"worldnews":null,"date":"2018-03-04"},{"13451452251849519":null,"aznidentity":null,"billionshekelsupreme":null,"communism":null,"conservative":0.0469580626,"conspiracy":null,"cringeanarchy":null,"debatereligion":null,"documentaries":0.025898414,"fatacceptance":null,"gentilesunited":null,"h3h3productions":null,"hapas":null,"imgoingtohellforthis":null,"lectures":null,"mgtow":null,"milliondollarextreme":0.097718254,"news":null,"politics":null,"samandtolki":null,"sjwhate":null,"the_donald":0.0334448161,"todayilearned":null,"uncensorednews":null,"worldnews":null,"date":"2018-03-05"},{"13451452251849519":null,"aznidentity":null,"billionshekelsupreme":null,"communism":null,"conservative":0.0421648836,"conspiracy":null,"cringeanarchy":null,"debatereligion":null,"documentaries":0.0174511368,"fatacceptance":null,"gentilesunited":null,"h3h3productions":null,"hapas":null,"imgoingtohellforthis":null,"lectures":null,"mgtow":null,"milliondollarextreme":0.0884990768,"news":null,"politics":null,"samandtolki":null,"sjwhate":null,"the_donald":0.038897893,"todayilearned":null,"uncensorednews":null,"worldnews":null,"date":"2018-03-06"},{"13451452251849519":null,"aznidentity":null,"billionshekelsupreme":null,"communism":null,"conservative":0.0512195122,"conspiracy":null,"cringeanarchy":null,"debatereligion":null,"documentaries":0.0175331295,"fatacceptance":null,"gentilesunited":null,"h3h3productions":null,"hapas":null,"imgoingtohellforthis":null,"lectures":null,"mgtow":null,"milliondollarextreme":0.0786962003,"news":null,"politics":null,"samandtolki":null,"sjwhate":null,"the_donald":0.0332369942,"todayilearned":null,"uncensorednews":null,"worldnews":null,"date":"2018-03-07"},{"13451452251849519":null,"aznidentity":null,"billionshekelsupreme":null,"communism":null,"conservative":0.0480274443,"conspiracy":null,"cringeanarchy":null,"debatereligion":null,"documentaries":0.0344589938,"fatacceptance":null,"gentilesunited":null,"h3h3productions":null,"hapas":null,"imgoingtohellforthis":null,"lectures":null,"mgtow":null,"milliondollarextreme":0.0973724884,"news":null,"politics":null,"samandtolki":null,"sjwhate":null,"the_donald":null,"todayilearned":null,"uncensorednews":null,"worldnews":null,"date":"2018-03-08"},{"13451452251849519":null,"aznidentity":null,"billionshekelsupreme":null,"communism":null,"conservative":0.0402684564,"conspiracy":null,"cringeanarchy":null,"debatereligion":null,"documentaries":0.0401431287,"fatacceptance":null,"gentilesunited":null,"h3h3productions":null,"hapas":null,"imgoingtohellforthis":null,"lectures":null,"mgtow":null,"milliondollarextreme":0.0830655527,"news":null,"politics":null,"samandtolki":null,"sjwhate":null,"the_donald":0.0326370757,"todayilearned":null,"uncensorednews":null,"worldnews":null,"date":"2018-03-09"},{"13451452251849519":null,"aznidentity":null,"billionshekelsupreme":null,"communism":null,"conservative":0.0654241156,"conspiracy":null,"cringeanarchy":null,"debatereligion":null,"documentaries":0.0101626016,"fatacceptance":null,"gentilesunited":null,"h3h3productions":null,"hapas":null,"imgoingtohellforthis":null,"lectures":null,"mgtow":null,"milliondollarextreme":0.0814884108,"news":null,"politics":null,"samandtolki":null,"sjwhate":null,"the_donald":0.027124774,"todayilearned":null,"uncensorednews":null,"worldnews":null,"date":"2018-03-10"},{"13451452251849519":null,"aznidentity":null,"billionshekelsupreme":null,"communism":null,"conservative":0.0431099398,"conspiracy":null,"cringeanarchy":null,"debatereligion":null,"documentaries":0.0643847938,"fatacceptance":null,"gentilesunited":null,"h3h3productions":null,"hapas":null,"imgoingtohellforthis":null,"lectures":null,"mgtow":null,"milliondollarextreme":0.0725497035,"news":null,"politics":null,"samandtolki":null,"sjwhate":null,"the_donald":0.0321456235,"todayilearned":null,"uncensorednews":null,"worldnews":null,"date":"2018-03-11"},{"13451452251849519":null,"aznidentity":null,"billionshekelsupreme":null,"communism":null,"conservative":0.0340715503,"conspiracy":null,"cringeanarchy":null,"debatereligion":null,"documentaries":0.1179612731,"fatacceptance":null,"gentilesunited":null,"h3h3productions":null,"hapas":null,"imgoingtohellforthis":null,"lectures":null,"mgtow":null,"milliondollarextreme":0.0984110712,"news":null,"politics":null,"samandtolki":null,"sjwhate":null,"the_donald":0.0453752182,"todayilearned":null,"uncensorednews":null,"worldnews":null,"date":"2018-03-12"},{"13451452251849519":null,"aznidentity":null,"billionshekelsupreme":0.0714285714,"communism":null,"conservative":0.0603416939,"conspiracy":null,"cringeanarchy":0.0511363636,"debatereligion":null,"documentaries":0.0901216059,"fatacceptance":null,"gentilesunited":null,"h3h3productions":null,"hapas":null,"imgoingtohellforthis":null,"lectures":null,"mgtow":null,"milliondollarextreme":0.0797898949,"news":null,"politics":null,"samandtolki":null,"sjwhate":null,"the_donald":0.0314136126,"todayilearned":null,"uncensorednews":null,"worldnews":null,"date":"2018-03-13"},{"13451452251849519":null,"aznidentity":null,"billionshekelsupreme":null,"communism":null,"conservative":0.0470588235,"conspiracy":null,"cringeanarchy":null,"debatereligion":null,"documentaries":0.0727449079,"fatacceptance":null,"gentilesunited":null,"h3h3productions":null,"hapas":null,"imgoingtohellforthis":null,"lectures":null,"mgtow":null,"milliondollarextreme":0.0500782473,"news":null,"politics":null,"samandtolki":null,"sjwhate":null,"the_donald":0.0243902439,"todayilearned":null,"uncensorednews":null,"worldnews":null,"date":"2018-03-14"}];

  mock['percent_keyword_hate'] =
  [{"13451452251849519":null,"aznidentity":0.0087073007,"billionshekelsupreme":null,"communism":0.0,"conservative":0.0,"conspiracy":0.0,"cringeanarchy":0.0,"debatereligion":0.0006527415,"documentaries":0.0034401204,"fatacceptance":0.0120845921,"gentilesunited":0.0,"h3h3productions":0.0,"hapas":0.0061279203,"imgoingtohellforthis":null,"lectures":0.0,"mgtow":0.0021654396,"milliondollarextreme":0.0080900457,"news":0.0,"politics":0.0009511731,"samandtolki":0.0012387736,"sjwhate":0.0043103448,"the_donald":0.0,"todayilearned":0.0016322089,"uncensorednews":0.0044843049,"worldnews":0.0,"date":"2018-02-25"},{"13451452251849519":null,"aznidentity":0.0086988039,"billionshekelsupreme":null,"communism":0.0,"conservative":0.0,"conspiracy":0.0,"cringeanarchy":0.0,"debatereligion":0.0007662835,"documentaries":0.003087611,"fatacceptance":0.0120481928,"gentilesunited":0.0,"h3h3productions":0.0,"hapas":0.0062573328,"imgoingtohellforthis":null,"lectures":0.0,"mgtow":0.0008210181,"milliondollarextreme":0.0090261283,"news":0.000277585,"politics":0.0,"samandtolki":0.0012236158,"sjwhate":0.004137931,"the_donald":0.0,"todayilearned":0.0,"uncensorednews":0.0167173252,"worldnews":0.0005889282,"date":"2018-02-26"},{"13451452251849519":null,"aznidentity":0.0057471264,"billionshekelsupreme":null,"communism":0.0,"conservative":0.0,"conspiracy":null,"cringeanarchy":0.0024390244,"debatereligion":0.0,"documentaries":0.0,"fatacceptance":0.0120481928,"gentilesunited":0.0,"h3h3productions":0.0036630037,"hapas":0.006779661,"imgoingtohellforthis":null,"lectures":0.0,"mgtow":0.0,"milliondollarextreme":0.0052083333,"news":0.0,"politics":0.0,"samandtolki":0.0011976048,"sjwhate":0.0042492918,"the_donald":0.0,"todayilearned":0.0012269939,"uncensorednews":0.0,"worldnews":0.0,"date":"2018-02-27"},{"13451452251849519":0.0,"aznidentity":0.0052493438,"billionshekelsupreme":null,"communism":null,"conservative":0.0,"conspiracy":null,"cringeanarchy":null,"debatereligion":null,"documentaries":0.0,"fatacceptance":null,"gentilesunited":null,"h3h3productions":null,"hapas":null,"imgoingtohellforthis":0.005021761,"lectures":null,"mgtow":null,"milliondollarextreme":0.0197368421,"news":null,"politics":null,"samandtolki":null,"sjwhate":0.0060483871,"the_donald":0.0,"todayilearned":null,"uncensorednews":null,"worldnews":0.0,"date":"2018-03-02"},{"13451452251849519":null,"aznidentity":0.005952381,"billionshekelsupreme":null,"communism":null,"conservative":0.0016017085,"conspiracy":null,"cringeanarchy":null,"debatereligion":null,"documentaries":0.0,"fatacceptance":null,"gentilesunited":null,"h3h3productions":null,"hapas":null,"imgoingtohellforthis":null,"lectures":null,"mgtow":null,"milliondollarextreme":0.0089598753,"news":null,"politics":null,"samandtolki":null,"sjwhate":0.0138248848,"the_donald":0.004950495,"todayilearned":null,"uncensorednews":null,"worldnews":null,"date":"2018-03-04"},{"13451452251849519":null,"aznidentity":null,"billionshekelsupreme":null,"communism":null,"conservative":0.003248671,"conspiracy":null,"cringeanarchy":null,"debatereligion":null,"documentaries":0.0,"fatacceptance":null,"gentilesunited":null,"h3h3productions":null,"hapas":null,"imgoingtohellforthis":null,"lectures":null,"mgtow":null,"milliondollarextreme":0.016468254,"news":null,"politics":null,"samandtolki":null,"sjwhate":null,"the_donald":0.0,"todayilearned":null,"uncensorednews":null,"worldnews":null,"date":"2018-03-05"},{"13451452251849519":null,"aznidentity":null,"billionshekelsupreme":null,"communism":null,"conservative":0.0031466331,"conspiracy":null,"cringeanarchy":null,"debatereligion":null,"documentaries":0.0,"fatacceptance":null,"gentilesunited":null,"h3h3productions":null,"hapas":null,"imgoingtohellforthis":null,"lectures":null,"mgtow":null,"milliondollarextreme":0.0172777631,"news":null,"politics":null,"samandtolki":null,"sjwhate":null,"the_donald":0.0,"todayilearned":null,"uncensorednews":null,"worldnews":null,"date":"2018-03-06"},{"13451452251849519":null,"aznidentity":null,"billionshekelsupreme":null,"communism":null,"conservative":0.0,"conspiracy":null,"cringeanarchy":null,"debatereligion":null,"documentaries":0.0,"fatacceptance":null,"gentilesunited":null,"h3h3productions":null,"hapas":null,"imgoingtohellforthis":null,"lectures":null,"mgtow":null,"milliondollarextreme":0.0108049703,"news":null,"politics":null,"samandtolki":null,"sjwhate":null,"the_donald":0.0,"todayilearned":null,"uncensorednews":null,"worldnews":null,"date":"2018-03-07"},{"13451452251849519":null,"aznidentity":null,"billionshekelsupreme":null,"communism":null,"conservative":0.0,"conspiracy":null,"cringeanarchy":null,"debatereligion":null,"documentaries":0.0,"fatacceptance":null,"gentilesunited":null,"h3h3productions":null,"hapas":null,"imgoingtohellforthis":null,"lectures":null,"mgtow":null,"milliondollarextreme":0.0108191654,"news":null,"politics":null,"samandtolki":null,"sjwhate":null,"the_donald":null,"todayilearned":null,"uncensorednews":null,"worldnews":null,"date":"2018-03-08"},{"13451452251849519":null,"aznidentity":null,"billionshekelsupreme":null,"communism":null,"conservative":0.0,"conspiracy":null,"cringeanarchy":null,"debatereligion":null,"documentaries":0.0002236386,"fatacceptance":null,"gentilesunited":null,"h3h3productions":null,"hapas":null,"imgoingtohellforthis":null,"lectures":null,"mgtow":null,"milliondollarextreme":0.0118894602,"news":null,"politics":null,"samandtolki":null,"sjwhate":null,"the_donald":0.0,"todayilearned":null,"uncensorednews":null,"worldnews":null,"date":"2018-03-09"},{"13451452251849519":null,"aznidentity":null,"billionshekelsupreme":null,"communism":null,"conservative":0.0,"conspiracy":null,"cringeanarchy":null,"debatereligion":null,"documentaries":0.0022976317,"fatacceptance":null,"gentilesunited":null,"h3h3productions":null,"hapas":null,"imgoingtohellforthis":null,"lectures":null,"mgtow":null,"milliondollarextreme":0.0074836296,"news":null,"politics":null,"samandtolki":null,"sjwhate":null,"the_donald":0.0,"todayilearned":null,"uncensorednews":null,"worldnews":null,"date":"2018-03-10"},{"13451452251849519":null,"aznidentity":null,"billionshekelsupreme":null,"communism":null,"conservative":0.0009412651,"conspiracy":null,"cringeanarchy":null,"debatereligion":null,"documentaries":0.0005681011,"fatacceptance":null,"gentilesunited":null,"h3h3productions":null,"hapas":null,"imgoingtohellforthis":null,"lectures":null,"mgtow":null,"milliondollarextreme":0.0116265551,"news":null,"politics":null,"samandtolki":null,"sjwhate":null,"the_donald":0.0007745933,"todayilearned":null,"uncensorednews":null,"worldnews":null,"date":"2018-03-11"},{"13451452251849519":null,"aznidentity":null,"billionshekelsupreme":null,"communism":null,"conservative":0.0017035775,"conspiracy":null,"cringeanarchy":null,"debatereligion":null,"documentaries":0.0,"fatacceptance":null,"gentilesunited":null,"h3h3productions":null,"hapas":null,"imgoingtohellforthis":null,"lectures":null,"mgtow":null,"milliondollarextreme":0.0276781138,"news":null,"politics":null,"samandtolki":null,"sjwhate":null,"the_donald":0.0,"todayilearned":null,"uncensorednews":null,"worldnews":null,"date":"2018-03-12"},{"13451452251849519":null,"aznidentity":null,"billionshekelsupreme":0.0194805195,"communism":null,"conservative":0.0003635042,"conspiracy":null,"cringeanarchy":0.0056818182,"debatereligion":null,"documentaries":0.0,"fatacceptance":null,"gentilesunited":null,"h3h3productions":null,"hapas":null,"imgoingtohellforthis":null,"lectures":null,"mgtow":null,"milliondollarextreme":0.0082541271,"news":null,"politics":null,"samandtolki":null,"sjwhate":null,"the_donald":0.0017452007,"todayilearned":null,"uncensorednews":null,"worldnews":null,"date":"2018-03-13"},{"13451452251849519":null,"aznidentity":null,"billionshekelsupreme":null,"communism":null,"conservative":0.0,"conspiracy":null,"cringeanarchy":null,"debatereligion":null,"documentaries":0.0,"fatacceptance":null,"gentilesunited":null,"h3h3productions":null,"hapas":null,"imgoingtohellforthis":null,"lectures":null,"mgtow":null,"milliondollarextreme":0.0109546166,"news":null,"politics":null,"samandtolki":null,"sjwhate":null,"the_donald":0.0,"todayilearned":null,"uncensorednews":null,"worldnews":null,"date":"2018-03-14"}];

  mock['total_scanned'] = [{"13451452251849519":null,"aznidentity":2986.0,"billionshekelsupreme":null,"communism":1396.0,"conservative":1024.0,"conspiracy":2084.0,"cringeanarchy":924.0,"debatereligion":12256.0,"documentaries":4651.0,"fatacceptance":993.0,"gentilesunited":293.0,"h3h3productions":91.0,"hapas":2611.0,"imgoingtohellforthis":null,"lectures":605.0,"mgtow":2309.0,"milliondollarextreme":2843.0,"news":8319.0,"politics":3154.0,"samandtolki":3229.0,"sjwhate":3016.0,"the_donald":136.0,"todayilearned":3676.0,"uncensorednews":1338.0,"worldnews":859.0,"date":"2018-02-25"},{"13451452251849519":null,"aznidentity":2759.0,"billionshekelsupreme":null,"communism":1296.0,"conservative":1494.0,"conspiracy":2966.0,"cringeanarchy":969.0,"debatereligion":10440.0,"documentaries":5182.0,"fatacceptance":996.0,"gentilesunited":288.0,"h3h3productions":433.0,"hapas":2557.0,"imgoingtohellforthis":null,"lectures":640.0,"mgtow":1218.0,"milliondollarextreme":2105.0,"news":7205.0,"politics":4263.0,"samandtolki":3269.0,"sjwhate":2900.0,"the_donald":176.0,"todayilearned":1848.0,"uncensorednews":658.0,"worldnews":1698.0,"date":"2018-02-26"},{"13451452251849519":null,"aznidentity":696.0,"billionshekelsupreme":null,"communism":316.0,"conservative":82.0,"conspiracy":null,"cringeanarchy":410.0,"debatereligion":2716.0,"documentaries":896.0,"fatacceptance":249.0,"gentilesunited":72.0,"h3h3productions":273.0,"hapas":590.0,"imgoingtohellforthis":null,"lectures":168.0,"mgtow":449.0,"milliondollarextreme":384.0,"news":1015.0,"politics":737.0,"samandtolki":835.0,"sjwhate":706.0,"the_donald":48.0,"todayilearned":815.0,"uncensorednews":200.0,"worldnews":279.0,"date":"2018-02-27"},{"13451452251849519":503.0,"aznidentity":381.0,"billionshekelsupreme":null,"communism":null,"conservative":125.0,"conspiracy":null,"cringeanarchy":null,"debatereligion":null,"documentaries":792.0,"fatacceptance":null,"gentilesunited":null,"h3h3productions":null,"hapas":null,"imgoingtohellforthis":5974.0,"lectures":null,"mgtow":null,"milliondollarextreme":456.0,"news":null,"politics":null,"samandtolki":null,"sjwhate":496.0,"the_donald":200.0,"todayilearned":null,"uncensorednews":null,"worldnews":152.0,"date":"2018-03-02"},{"13451452251849519":null,"aznidentity":504.0,"billionshekelsupreme":null,"communism":null,"conservative":1873.0,"conspiracy":null,"cringeanarchy":null,"debatereligion":null,"documentaries":2232.0,"fatacceptance":null,"gentilesunited":null,"h3h3productions":null,"hapas":null,"imgoingtohellforthis":null,"lectures":null,"mgtow":null,"milliondollarextreme":2567.0,"news":null,"politics":null,"samandtolki":null,"sjwhate":651.0,"the_donald":404.0,"todayilearned":null,"uncensorednews":null,"worldnews":null,"date":"2018-03-04"},{"13451452251849519":null,"aznidentity":null,"billionshekelsupreme":null,"communism":null,"conservative":3386.0,"conspiracy":null,"cringeanarchy":null,"debatereligion":null,"documentaries":4981.0,"fatacceptance":null,"gentilesunited":null,"h3h3productions":null,"hapas":null,"imgoingtohellforthis":null,"lectures":null,"mgtow":null,"milliondollarextreme":10080.0,"news":null,"politics":null,"samandtolki":null,"sjwhate":null,"the_donald":1196.0,"todayilearned":null,"uncensorednews":null,"worldnews":null,"date":"2018-03-05"},{"13451452251849519":null,"aznidentity":null,"billionshekelsupreme":null,"communism":null,"conservative":1589.0,"conspiracy":null,"cringeanarchy":null,"debatereligion":null,"documentaries":10028.0,"fatacceptance":null,"gentilesunited":null,"h3h3productions":null,"hapas":null,"imgoingtohellforthis":null,"lectures":null,"mgtow":null,"milliondollarextreme":7582.0,"news":null,"politics":null,"samandtolki":null,"sjwhate":null,"the_donald":617.0,"todayilearned":null,"uncensorednews":null,"worldnews":null,"date":"2018-03-06"},{"13451452251849519":null,"aznidentity":null,"billionshekelsupreme":null,"communism":null,"conservative":1640.0,"conspiracy":null,"cringeanarchy":null,"debatereligion":null,"documentaries":4905.0,"fatacceptance":null,"gentilesunited":null,"h3h3productions":null,"hapas":null,"imgoingtohellforthis":null,"lectures":null,"mgtow":null,"milliondollarextreme":5553.0,"news":null,"politics":null,"samandtolki":null,"sjwhate":null,"the_donald":1384.0,"todayilearned":null,"uncensorednews":null,"worldnews":null,"date":"2018-03-07"},{"13451452251849519":null,"aznidentity":null,"billionshekelsupreme":null,"communism":null,"conservative":583.0,"conspiracy":null,"cringeanarchy":null,"debatereligion":null,"documentaries":1451.0,"fatacceptance":null,"gentilesunited":null,"h3h3productions":null,"hapas":null,"imgoingtohellforthis":null,"lectures":null,"mgtow":null,"milliondollarextreme":3235.0,"news":null,"politics":null,"samandtolki":null,"sjwhate":null,"the_donald":null,"todayilearned":null,"uncensorednews":null,"worldnews":null,"date":"2018-03-08"},{"13451452251849519":null,"aznidentity":null,"billionshekelsupreme":null,"communism":null,"conservative":3278.0,"conspiracy":null,"cringeanarchy":null,"debatereligion":null,"documentaries":8943.0,"fatacceptance":null,"gentilesunited":null,"h3h3productions":null,"hapas":null,"imgoingtohellforthis":null,"lectures":null,"mgtow":null,"milliondollarextreme":6224.0,"news":null,"politics":null,"samandtolki":null,"sjwhate":null,"the_donald":1532.0,"todayilearned":null,"uncensorednews":null,"worldnews":null,"date":"2018-03-09"},{"13451452251849519":null,"aznidentity":null,"billionshekelsupreme":null,"communism":null,"conservative":2629.0,"conspiracy":null,"cringeanarchy":null,"debatereligion":null,"documentaries":11316.0,"fatacceptance":null,"gentilesunited":null,"h3h3productions":null,"hapas":null,"imgoingtohellforthis":null,"lectures":null,"mgtow":null,"milliondollarextreme":9621.0,"news":null,"politics":null,"samandtolki":null,"sjwhate":null,"the_donald":553.0,"todayilearned":null,"uncensorednews":null,"worldnews":null,"date":"2018-03-10"},{"13451452251849519":null,"aznidentity":null,"billionshekelsupreme":null,"communism":null,"conservative":10624.0,"conspiracy":null,"cringeanarchy":null,"debatereligion":null,"documentaries":21123.0,"fatacceptance":null,"gentilesunited":null,"h3h3productions":null,"hapas":null,"imgoingtohellforthis":null,"lectures":null,"mgtow":null,"milliondollarextreme":8601.0,"news":null,"politics":null,"samandtolki":null,"sjwhate":null,"the_donald":2582.0,"todayilearned":null,"uncensorednews":null,"worldnews":null,"date":"2018-03-11"},{"13451452251849519":null,"aznidentity":null,"billionshekelsupreme":null,"communism":null,"conservative":3522.0,"conspiracy":null,"cringeanarchy":null,"debatereligion":null,"documentaries":8986.0,"fatacceptance":null,"gentilesunited":null,"h3h3productions":null,"hapas":null,"imgoingtohellforthis":null,"lectures":null,"mgtow":null,"milliondollarextreme":1951.0,"news":null,"politics":null,"samandtolki":null,"sjwhate":null,"the_donald":573.0,"todayilearned":null,"uncensorednews":null,"worldnews":null,"date":"2018-03-12"},{"13451452251849519":null,"aznidentity":null,"billionshekelsupreme":154.0,"communism":null,"conservative":2751.0,"conspiracy":null,"cringeanarchy":176.0,"debatereligion":null,"documentaries":6003.0,"fatacceptance":null,"gentilesunited":null,"h3h3productions":null,"hapas":null,"imgoingtohellforthis":null,"lectures":null,"mgtow":null,"milliondollarextreme":3998.0,"news":null,"politics":null,"samandtolki":null,"sjwhate":null,"the_donald":573.0,"todayilearned":null,"uncensorednews":null,"worldnews":null,"date":"2018-03-13"},{"13451452251849519":null,"aznidentity":null,"billionshekelsupreme":null,"communism":null,"conservative":340.0,"conspiracy":null,"cringeanarchy":null,"debatereligion":null,"documentaries":1031.0,"fatacceptance":null,"gentilesunited":null,"h3h3productions":null,"hapas":null,"imgoingtohellforthis":null,"lectures":null,"mgtow":null,"milliondollarextreme":639.0,"news":null,"politics":null,"samandtolki":null,"sjwhate":null,"the_donald":123.0,"todayilearned":null,"uncensorednews":null,"worldnews":null,"date":"2018-03-14"}];

  mock['rolling_total_hate'] =
  [{"subreddit":"uncensorednews","total_keyword_hate":17.0,"total_bow_hate":203.0},{"subreddit":"milliondollarextreme","total_keyword_hate":808.0,"total_bow_hate":5487.0},{"subreddit":"13451452251849519","total_keyword_hate":0.0,"total_bow_hate":31.0},{"subreddit":"todayilearned","total_keyword_hate":7.0,"total_bow_hate":84.0},{"subreddit":"aznidentity","total_keyword_hate":59.0,"total_bow_hate":1607.0},{"subreddit":"fatacceptance","total_keyword_hate":27.0,"total_bow_hate":180.0},{"subreddit":"news","total_keyword_hate":2.0,"total_bow_hate":680.0},{"subreddit":"politics","total_keyword_hate":3.0,"total_bow_hate":245.0},{"subreddit":"h3h3productions","total_keyword_hate":1.0,"total_bow_hate":7.0},{"subreddit":"cringeanarchy","total_keyword_hate":2.0,"total_bow_hate":113.0},{"subreddit":"samandtolki","total_keyword_hate":9.0,"total_bow_hate":386.0},{"subreddit":"sjwhate","total_keyword_hate":40.0,"total_bow_hate":758.0},{"subreddit":"the_donald","total_keyword_hate":5.0,"total_bow_hate":329.0},{"subreddit":"billionshekelsupreme","total_keyword_hate":3.0,"total_bow_hate":11.0},{"subreddit":"worldnews","total_keyword_hate":1.0,"total_bow_hate":145.0},{"subreddit":"conspiracy","total_keyword_hate":0.0,"total_bow_hate":225.0},{"subreddit":"imgoingtohellforthis","total_keyword_hate":30.0,"total_bow_hate":373.0},{"subreddit":"hapas","total_keyword_hate":36.0,"total_bow_hate":1208.0},{"subreddit":"debatereligion","total_keyword_hate":16.0,"total_bow_hate":1640.0},{"subreddit":"conservative","total_keyword_hate":36.0,"total_bow_hate":1544.0},{"subreddit":"documentaries","total_keyword_hate":72.0,"total_bow_hate":4485.0},{"subreddit":"communism","total_keyword_hate":0.0,"total_bow_hate":161.0},{"subreddit":"mgtow","total_keyword_hate":6.0,"total_bow_hate":208.0},{"subreddit":"lectures","total_keyword_hate":0.0,"total_bow_hate":85.0},{"subreddit":"gentilesunited","total_keyword_hate":0.0,"total_bow_hate":304.0}];


  return mock[endpoint]
}

function fetchRates( endpoint ) {
  var environment = 'PROD'

  console.log("loading data");
  var url
  var targetUrl
  if (environment === 'LOCAL_MOCK') {
    return getMock(endpoint)
  } else {
    var proxyUrl = 'https://cors-anywhere.herokuapp.com/'
    if (environment === 'PROD') {
      targetUrl = 'http://18.218.128.141:5000/'
    } else if (environment === 'LOCAL'){
      targetUrl = 'localhost:5000/'
    }
    url = proxyUrl + targetUrl + endpoint
    console.log(url);
    return fetch(url)
      .then(response => response.json())
      .then((data) => processData(data))
  }
}

function processData(data) {
    console.log('loaded data');

    var keys = Object.keys(data[0]);
    keys = keys.filter(key => key !== "date")

    var dates = data.map(data => data.date);

    var chart_data = []
    keys.forEach( key => {
        var series_data = data.map(data => data[key]);
        var series_obj = {
          type: 'scatter',
          x: dates,
          y: series_data,
          name: key
        }
        chart_data.push(series_obj)
    })

    return chart_data
  }

export default fetchRates
